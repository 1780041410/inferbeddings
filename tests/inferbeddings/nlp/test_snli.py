# -*- coding: utf-8 -*-

import inferbeddings.nli.util as util

import logging

import pytest

logger = logging.getLogger(__name__)


def test_snli():
    train_instances, dev_instances, test_instances = util.SNLI.generate()

    all_instances = train_instances + dev_instances + test_instances
    qs_tokenizer, a_tokenizer = util.train_tokenizer_on_instances(all_instances, num_words=None)

    check_dict = {'waimeia': 34424, 'wairess': 34425, 'wairs': 34426, "wait's": 34427, 'waith': 34428, 'waitres': 34429, "waitress's": 34430, 'waitressing': 34431, 'waive': 34432, 'waived': 34433, 'wakboarder': 34434, 'wakeboader': 34435, 'waken': 34436, 'wakling': 34437, 'waliking': 34438, 'walil': 34439, 'walkes': 34440, 'walki': 34441, 'walkig': 34442, 'walkign': 34443, 'walkiing': 34444, 'walkin': 34445, 'walkis': 34446, 'walkoff': 34447, 'walky': 34448, 'wallmart': 34449, 'walloping': 34450, 'wallow': 34451, 'wallowing': 34452, 'wallpapering': 34453, 'wallstreet': 34454, "walmart's": 34455, 'waltzes': 34456, 'waman': 34457, 'wang': 34458, "want's": 34459, 'wantedto': 34460, 'waqlking': 34461, 'warble': 34462, 'warbler': 34463, 'warboat': 34464, 'warching': 34465, 'warhol': 34466, 'warlord': 34467, 'warmest': 34468, 'warmign': 34469, 'warmups': 34470, 'wasabi': 34471, 'washinng': 34472, 'washling': 34473, 'washtub': 34474, 'wasps': 34475, 'waspy': 34476, 'wastes': 34477, 'watche': 34478, 'watchese': 34479, 'watchin': 34480, 'watchinf': 34481, "watching'": 34482, 'watchingan': 34483, 'watchingt': 34484, 'watchint': 34485, 'watchman': 34486, 'watchng': 34487, 'watchs': 34488, 'watchtower': 34489, 'wate': 34490, 'waterall': 34491, 'waterballoons': 34492, 'waterbody': 34493, 'waterfight': 34494, 'waterfountain': 34495, 'waterfrom': 34496, 'watergyser': 34497, 'waterhose': 34498, 'waterless': 34499, 'watermellons': 34500, 'waterscapes': 34501, 'waterskiers': 34502, 'watfched': 34503, 'wathced': 34504, 'wathces': 34505, 'wathes': 34506, 'watitingto': 34507, 'watusi': 34508, 'waveboader': 34509, 'wavelengths': 34510, 'waveless': 34511, 'wavepool': 34512, 'waverunner': 34513, 'wavey': 34514, 'wayer': 34515, 'wayne': 34516, "wayne's": 34517, 'wayward': 34518, "we've": 34519, 'weaaring': 34520, 'weaars': 34521, 'weainr': 34522, 'weakling': 34523, 'wealth': 34524, 'weaning': 34525, 'weaponry': 34526, 'weareing': 34527, 'wearers': 34528, 'wearig': 34529, 'wearinf': 34530, 'wearinh': 34531, 'wearinng': 34532, 'wearkng': 34533, 'wearnign': 34534, 'wearong': 34535, 'wearping': 34536, 'wearring': 34537, 'wearting': 34538, 'weasels': 34539, 'weat': 34540, 'weatehr': 34541, 'weatherman': 34542, 'weatherwax': 34543, 'webelo': 34544, 'weber': 34545, 'webinar': 34546, 'webs': 34547, 'weddingdress': 34548, 'wedges': 34549, 'weedkiller': 34550, 'weegy': 34551, 'weeki': 34552, 'weenies': 34553, 'weeny': 34554, 'weep': 34555, 'weighted': 34556, 'weightless': 34557, 'weightlifint': 34558, 'weightlifter': 34559, 'weilds': 34560, 'weinermobile': 34561, 'weing': 34562, 'weinging': 34563, 'weirdo': 34564, 'weirdos': 34565, 'welfare': 34566, 'weny': 34567, 'wera': 34568, 'werar': 34569, 'weras': 34570, 'weregeeks': 34571, 'werein': 34572, 'werewolves': 34573, 'werid': 34574, 'werstler': 34575, 'wesley': 34576, 'westernwear': 34577, 'westies': 34578, 'weter': 34579, 'wetlands': 34580, 'wetsute': 34581, 'whacked': 34582, 'whalers': 34583, 'whaling': 34584, 'whatching': 34585, 'whearing': 34586, 'wheelbarows': 34587, 'wheelchairer': 34588, 'wheezing': 34589, 'whereing': 34590, 'whiile': 34591, 'whilehis': 34592, 'whille': 34593, 'whilte': 34594, 'whilw': 34595, 'whimpering': 34596, 'whimpers': 34597, 'whined': 34598, 'whinning': 34599, 'whipout': 34600, 'whirled': 34601, 'whirraging': 34602, 'whisked': 34603, 'whiskers': 34604, 'whisling': 34605, 'whislte': 34606, 'whispered': 34607, 'whiste': 34608, 'whistled': 34609, 'whistler': 34610, 'whitefish': 34611, 'whitei': 34612, 'whitener': 34613, 'whitening': 34614, 'whiteout': 34615, 'whiteys': 34616, 'whith': 34617, 'whithhis': 34618, 'whitteling': 34619, 'whittler': 34620, 'whiz': 34621, 'whoe': 34622, 'wholes': 34623, 'whopper': 34624, 'whore': 34625, 'whote': 34626, 'whre': 34627, 'whute': 34628, 'whys': 34629, 'wi': 34630, 'wicca': 34631, 'wiccan': 34632, 'wickets': 34633, 'widdles': 34634, 'widdling': 34635, 'widelife': 34636, 'wideness': 34637, 'widening': 34638, 'widescreen': 34639, 'widewalk': 34640, 'widgets': 34641, 'widower': 34642, 'wiedling': 34643, 'wielded': 34644, 'wiggle': 34645, 'wihle': 34646, 'wihtout': 34647, 'wiis': 34648, 'wilbur': 34649, 'wildcat': 34650, 'wildthings': 34651, 'wildwood': 34652, 'willd': 34653, 'william': 34654, 'willpower': 34655, 'willy': 34656, 'wilt': 34657, 'wilted': 34658, 'wilting': 34659, 'wiman': 34660, 'wimbelton': 34661, 'wimbleton': 34662, 'wimpers': 34663, 'winched': 34664, 'windchimes': 34665, 'windowblind': 34666, 'windowd': 34667, 'windower': 34668, 'windown': 34669, 'windowshopping': 34670, 'windowwasher': 34671, 'windshields': 34672, 'windsufring': 34673, 'windswept': 34674, 'winger': 34675, 'wingson': 34676, 'wingsuit': 34677, 'winnebago': 34678, 'winnings': 34679, 'winslet': 34680, 'wiper': 34681, 'wiry': 34682, "wisconsin's": 34683, 'wisdom': 34684, 'wiseman': 34685, 'wisk': 34686, 'wisped': 34687, 'witer': 34688, 'withdram': 34689, 'withdrawl': 34690, 'withdrew': 34691, 'witherspoon': 34692, 'withh': 34693, 'withno': 34694, 'withstand': 34695, 'witout': 34696, 'wityh': 34697, "wizard's": 34698, 'wizardly': 34699, 'wmba': 34700, 'wmen': 34701, "wndy's": 34702, 'woaman': 34703, 'wobbling': 34704, 'wobbly': 34705, 'woden': 34706, 'wolds': 34707, 'wolfhound': 34708, 'wolfman': 34709, 'womaen': 34710, 'womajn': 34711, 'womal': 34712, 'womanare': 34713, 'womani': 34714, 'womanin': 34715, 'womanizer': 34716, 'womanl': 34717, "womans'": 34718, 'womanshoveling': 34719, 'wombat': 34720, 'womena': 34721, 'womenare': 34722, 'womenplay': 34723, 'womman': 34724, 'womoen': 34725, 'womwan': 34726, 'womwn': 34727, 'wonam': 34728, 'wonderlessly': 34729, 'wondow': 34730, 'wons': 34731, 'woo': 34732, 'woodchipper': 34733, 'woodfired': 34734, 'woodman': 34735, 'woodshed': 34736, 'woodsman': 34737, 'woodstove': 34738, 'woodwinds': 34739, 'wookers': 34740, 'wookie': 34741, 'woolf': 34742, 'woolite': 34743, 'woolly': 34744, 'wooman': 34745, 'woorkers': 34746, 'wordworking': 34747, 'workboots': 34748, 'workdays': 34749, 'worke': 34750, 'workemen': 34751, 'workes': 34752, 'workforce': 34753, 'workings': 34754, 'workmanship': 34755, 'workouts': 34756, 'worksheets': 34757, 'workshift': 34758, 'workvan': 34759, 'workwoman': 34760, 'worl': 34761, 'wormhole': 34762, 'wors': 34763, 'worshipped': 34764, "would've": 34765, 'wower': 34766, 'wperson': 34767, 'wracked': 34768, 'wrc': 34769, 'wre': 34770, 'wreak': 34771, 'wreslting': 34772, 'wrestiling': 34773, 'wretched': 34774, 'wriestling': 34775, 'wriggles': 34776, 'wrigley': 34777, "wrigley's": 34778, 'wrinkling': 34779, 'wriring': 34780, 'writter': 34781, 'wron': 34782, 'wrongfully': 34783, 'wrongly': 34784, 'ws': 34785, 'wtaching': 34786, 'wtawer': 34787, 'wtc': 34788, 'wtth': 34789, 'wu': 34790, 'wuietly': 34791, 'wurfing': 34792, 'wwalking': 34793, 'wwf': 34794, 'xbox360': 34795, 'xeno': 34796, 'xenophobic': 34797, 'xylaphone': 34798, 'ya': 34799, 'yacthing': 34800, 'yam': 34801, 'yank': 34802, 'yappy': 34803, 'yardsale': 34804, 'yardsaling': 34805, 'yarmaluke': 34806, 'yarmulkes': 34807, 'yeah': 34808, 'yeard': 34809, 'yearls': 34810, 'yeat': 34811, 'yeling': 34812, 'yelliing': 34813, 'yellowbicycle': 34814, 'yellowcab': 34815, 'yellowjacket': 34816, 'yellwo': 34817, 'yeloow': 34818, 'yelow': 34819, 'yelp': 34820, 'yelps': 34821, 'yeltzin': 34822, 'yesteryear': 34823, 'yhe': 34824, 'yng': 34825, "yo'ers": 34826, 'yoda': 34827, 'yodel': 34828, 'yog': 34829, 'yoing': 34830, 'yoko': 34831, "yorkie's": 34832, 'yorshire': 34833, 'youger': 34834, 'younb': 34835, 'younegr': 34836, 'younge': 34837, 'youngling': 34838, 'youngman': 34839, "youngster's": 34840, 'youngy': 34841, 'younh': 34842, 'younng': 34843, 'younsters': 34844, 'youring': 34845, 'yourselfer': 34846, 'yowling': 34847, 'yowls': 34848, 'ypung': 34849, 'yrs': 34850, 'z': 34851, 'zamboni': 34852, 'zapped': 34853, "zebra's": 34854, 'zebraback': 34855, 'zehorses': 34856, 'zepellin': 34857, 'zeta': 34858, 'zionists': 34859, 'zipling': 34860, 'zit': 34861, 'zod': 34862, 'zomboni': 34863, 'zonked': 34864, 'zookeepers': 34865, 'zookeper': 34866, 'zookepers': 34867, 'zoolander': 34868, 'zoomes': 34869, 'zoot': 34870, 'zooworker': 34871, 'zuma': 34872, 'zumbas': 34873, 'zuul': 34874, 'zylophone': 34875}

    for word, idx in check_dict.items():
        assert qs_tokenizer.word_index[word] == idx

if __name__ == '__main__':
    logging.basicConfig(level=logging.DEBUG)
    pytest.main([__file__])
